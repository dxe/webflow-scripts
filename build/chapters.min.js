function geolocate(){window.navigator&&window.navigator.geolocation&&navigator.geolocation.getCurrentPosition(onGeolocateSuccess,onGeolocateError)}function onGeolocateSuccess(o){const{latitude:a,longitude:e}=o.coords;userCoords=new google.maps.LatLng(a,e),map.panTo(userCoords),map.setZoom(6),$("a[data-action='find-chapter']").html('<i class="fas fa-map-marker-alt"></i>&nbsp;&nbsp;Find nearest chapter');let t=markers.reduce(function(o,a){return google.maps.geometry.spherical.computeDistanceBetween(userCoords,a.position)<google.maps.geometry.spherical.computeDistanceBetween(userCoords,o.position)?a:o});google.maps.event.trigger(t,"click")}function onGeolocateError(o){console.warn(o.code,o.message),1===o.code?$("a[data-action='find-chapter']").text("You denied location sharing."):2===o.code?$("a[data-action='find-chapter']").text("Failed."):3===o.code&&$("a[data-action='find-chapter']").text("Timeout.")}$(document).ready(function(){$("a[data-action='find-chapter']").html('<i class="fas fa-map-marker-alt"></i>&nbsp;&nbsp;Find nearest chapter')}),$("a[data-action='find-chapter']").click(function(){$("a[data-action='find-chapter']").text("Locating..."),geolocate()});